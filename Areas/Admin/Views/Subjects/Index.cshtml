@model IEnumerable<HeThongQuanLyThi.Models.Subject>
@{
    ViewData["Title"] = "Môn học";
}
<h1 class="text-2xl font-semibold mb-4">Môn học</h1>

@if (TempData["ok"] is string ok) { <div class="mb-3 rounded border border-green-200 bg-green-50 p-3 text-green-800">@ok</div> }

<form method="get" class="mb-4 flex gap-2">
  <input name="q" value="@((string?)ViewBag.Query)" placeholder="Từ khoá (mã/tên/khối)"
         class="w-80 rounded border border-gray-300 p-2" />
  <button class="rounded bg-indigo-600 px-4 py-2 text-white">Tìm</button>
  <a asp-action="Create" class="ml-auto rounded border px-4 py-2 hover:bg-gray-50">Thêm môn</a>
</form>

<div class="overflow-x-auto">
<table class="min-w-full border border-gray-200 bg-white">
  <thead class="bg-gray-50">
    <tr>
      <th class="p-2 text-left">Mã</th>
      <th class="p-2 text-left">Tên</th>
      <th class="p-2 text-left">Khối</th>
      <th class="p-2 text-left">Tín chỉ</th>
      <th class="p-2 text-left">Trạng thái</th>
      <th class="p-2"></th>
    </tr>
  </thead>
  <tbody>
  @foreach (var s in Model)
  {
    <tr class="border-t">
      <td class="p-2">@s.Code</td>
      <td class="p-2">@s.Name</td>
      <td class="p-2">@s.GradeLevel</td>
      <td class="p-2">@s.Credits</td>
      <td class="p-2">@(s.IsActive ? "Đang dùng" : "Ngưng")</td>
      <td class="p-2 text-right">
        <a asp-action="Details" asp-route-id="@s.Id" class="text-indigo-600 hover:underline mr-2">Xem</a>
        <a asp-action="Edit" asp-route-id="@s.Id" class="text-amber-600 hover:underline mr-2">Sửa</a>
        <a asp-action="Delete" asp-route-id="@s.Id" class="text-red-600 hover:underline">Xoá</a>
      </td>
    </tr>
  }
  </tbody>
</table>
</div>