@model IEnumerable<TeacherPromoteVm>
@{
    ViewData[index: "Title"] = "Quản lý giáo viên";
}

<h1 class="text-2xl font-semibold mb-4">Quản lý giáo viên</h1>

@if (TempData[key: "ok"] is string ok) { <div class="mb-3 rounded border border-green-200 bg-green-50 p-3 text-green-800">@ok</div> }
@if (TempData[key: "err"] is string err) { <div class="mb-3 rounded border border-red-200 bg-red-50 p-3 text-red-800">@err</div> }

<div class="overflow-x-auto">
<table class="min-w-full border border-gray-200">
  <thead class="bg-gray-50">
    <tr>
      <th class="p-2 text-left">Tên</th>
      <th class="p-2 text-left">Chức vị</th>
      <th class="p-2"></th>
    </tr>
  </thead>
  <tbody>
  @foreach (TeacherPromoteVm u in Model)
  {
    <tr class="border-t">
      <td class="p-2">@u.FullName <small class="text-sm">(@u.UserId)</small></td>
      <td class="p-2">@(u.HasTeacher ? "Teacher" : u.HasStudent ? "Student" : "None")</td>
      <td class="p-2 text-right">
        <a asp-area="Admin" asp-controller="Teachers" asp-action="Promote" asp-route-userId="@u.UserId" class="text-indigo-600 hover:underline mr-2">Set Teacher</a>
        <form asp-area="Admin" asp-controller="Teachers" asp-action="Demote" asp-route-userId="@u.UserId" method="post" class="inline">
          @Html.AntiForgeryToken()
          <button class="text-indigo-600 cursor-pointer hover:underline mr-2" type="submit">Set Student</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>
</div>
